<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>03 Routing | Senalyst </title> <meta name="author" content="Senalyst "> <meta name="description" content="A personal blog for software engineering and life in Seattle. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://seyoungnam.github.io/network/03-routing/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Senalyst </span></a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">technology</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/go/">Golang</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/k8s/">Kubernetes</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/istio/">Istio</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/network/">Network</a> </div> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">algorithms</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/leetcode/">LeetCode</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/algoexpert/">AlgoExpert</a> </div> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">03 Routing</h1> <p class="post-meta">May 29, 2023</p> <p class="post-tags"> <a href="/blog/2023"> <i class="fas fa-calendar fa-sm"></i> 2023 </a>   ·   <a href="/blog/tag/router-port-nat-pat"> <i class="fas fa-hashtag fa-sm"></i> router port NAT PAT</a>   </p> </header> <article class="post-content"> <h2 id="introducing-routers">Introducing Routers</h2> <ul> <li>Router - a box that connects network IDs</li> <li> <strong>Routers</strong> filter and forward based on <strong>IP address</strong> <ul> <li> <strong>Switches</strong> filter and forward based on <strong>MAC address</strong> </li> </ul> </li> <li>A routing table has at least four columns</li> </ul> <table> <thead> <tr> <th>Address</th> <th>Subnet</th> <th>Gateway</th> <th>Interface</th> </tr> </thead> <tbody> <tr> <td>192.168.15.0</td> <td>255.255.255.0</td> <td>0.0.0.0</td> <td>192.168.15.1</td> </tr> <tr> <td>232.25.201.0</td> <td>255.255.255.0</td> <td>0.0.0.0</td> <td>232.25.201.1</td> </tr> </tbody> </table> <ul> <li>Four zeros in the gateway means this router is directly connected to that network</li> <li>Interface is the side of the router each network is plugged into.</li> <li>Each interface has an IP address of its network <strong>ending with 1</strong> <ul> <li>WAN(Wide Area Network) interface faces the Internet and has a public IP address</li> <li>LAN(Local Area Network) interface faces the home network’s computers and has a private IP address</li> </ul> </li> </ul> <table> <thead> <tr> <th>Address</th> <th>Subnet</th> <th>Gateway</th> <th>Interface</th> </tr> </thead> <tbody> <tr> <td>192.168.15.0</td> <td>255.255.255.0</td> <td>0.0.0.0</td> <td>192.168.15.1</td> </tr> <tr> <td>232.25.201.0</td> <td>255.255.255.0</td> <td>0.0.0.0</td> <td>232.25.201.1</td> </tr> <tr> <td><strong>0.0.0.0</strong></td> <td><strong>0.0.0.0</strong></td> <td><strong>232.25.201.11</strong></td> <td><strong>232.25.201.1</strong></td> </tr> </tbody> </table> <ul> <li>Default route <ul> <li>If it doesn’t meet any other criteria, it always send it there.</li> <li>Address and subnet start with the all zeros</li> <li>send it out on this interface(232.25.201.1, coming from the Internet service provider) but send it directly to the next gateway(232.25.201.11)</li> <li>The ISP has an upstream router, which IP address is going to be the next gateway(232.25.201.11)</li> <li>There are many other routers attached to the ISP’s upstream router (232.25.201.11/24) to provide customers with the internet service. <ul> <li>In this case, 232.25.201.1 is assigned to my router.</li> <li>My next door would have a router with an IP address of 232.25.201.2</li> <li>This entire 232.25.201.0/24 network doesn’t have any computers on it at all.</li> </ul> </li> </ul> </li> <li>Example: get a packet that needs to go to 232.25.201.66 <ol> <li>The router sees that the gateway is all zeros (232.25.201.66 matches the address 232.25.201.0/24 on the routing table)</li> <li>It tells the router that it is directly connected to 232.25.201.66</li> <li>The router knows it can ARP that system</li> <li>Your router will go out on interface 232.25.201.1 and ask for MAC address for 232.25.201.66 with ARP</li> <li>That device reponds back with the MAC address</li> <li>The router can now put on the Ethernet information and shoots it out to 232.25.201.1</li> <li>And that computer gets the packet</li> </ol> </li> <li>Example2: gets a packet for 3.4.5.6 <ol> <li>The only route that’s going to work is the default route</li> <li>It’s going to ARP the gateway(232.25.201.11)</li> <li>That upstream router responds and sends his MAC address</li> <li>Now it knows how to send it and shoots it up to the router</li> </ol> </li> <li>The only thing the routers do <ul> <li>read the IP address</li> <li>change the MAC address depending where they want to send it to</li> </ul> </li> <li>Assuming another network is plugged to the router</li> </ul> <table> <thead> <tr> <th>Address</th> <th>Subnet</th> <th>Gateway</th> <th>Interface</th> <th>Metric</th> </tr> </thead> <tbody> <tr> <td>192.168.15.0</td> <td>255.255.255.0</td> <td>0.0.0.0</td> <td>192.168.15.1</td> <td>100</td> </tr> <tr> <td>232.25.201.0</td> <td>255.255.255.0</td> <td>0.0.0.0</td> <td>232.25.201.1</td> <td>100</td> </tr> <tr> <td>75.29.6.0</td> <td>255.255.255.0</td> <td>0.0.0.0</td> <td>75.29.6.144</td> <td>100</td> </tr> <tr> <td>0.0.0.0</td> <td>0.0.0.0</td> <td>232.25.201.11</td> <td>232.25.201.1</td> <td>10</td> </tr> <tr> <td>0.0.0.0</td> <td>0.0.0.0</td> <td>75.29.6.1</td> <td>75.29.6.144</td> <td>11</td> </tr> </tbody> </table> <ul> <li>Metric <ul> <li>a relative value that gives your router an idea if it has more than one choice to do something which way does it go</li> <li>The lower metric value the higher priority it has</li> <li>If the router has something to send on the default route, it’s oging to use the one with a lower metric value first</li> </ul> </li> </ul> <p><br></p> <h2 id="understanding-ports">Understanding Ports</h2> <table> <tbody> <tr> <td>dest IP</td> <td>srce IP</td> <td>dest Port</td> <td>srce Port</td> </tr> </tbody> </table> <ul> <li>The destination port number is set by the type of application you are using <ul> <li>Web server : 80</li> <li>FTP server : 21</li> <li>email server : 110</li> </ul> </li> <li> <strong>Port numbers 0 to 1023</strong> are called <strong>well known ports</strong>, used for fixed applications and locked in stone</li> <li>The <strong>source port number</strong> is generated as an ephemeral port by the client <ul> <li>It’s incrementally generated</li> <li>It’s got to be a number <strong>1024 up to 65,000</strong> </li> </ul> </li> </ul> <p><br></p> <h2 id="natnetwork-address-translation">NAT(Network Address Translation)</h2> <ul> <li>NAT translates a private IP address to a public one</li> <li>NAT allows us to have lots of devices that are on the internet without using legitimate IP addresses</li> <li>Built into routers</li> <li>A router plugs his IP address to the private IP address</li> <li>NAT vs PAT <ul> <li>NAT(Network Address Translation) only modifies the L3 header(IP) <ul> <li>Ex: 10.4.4.42 -&gt; 73.8.2.44</li> </ul> </li> <li>PAT(Port Address Translation) modifies both L3(IP) and L4(port) header <ul> <li>Ex: 10.4.4.41:8080 -&gt; 73.8.2.44:80</li> <li>Ex: 10.4.4.42:443 -&gt; 73.8.2.44:443</li> </ul> </li> </ul> </li> <li>Static vs Dynamic <ul> <li>Static - explicit mapping between PRE-translation and POST-translation</li> <li>Dynamic - a translation device makes a decision which host gets which IP address from a IP address pool <ul> <li>Example: translate anything in 10.6.6.0/24 to 72.9.4.22, 72.9.4.23, or 72.9.4.24</li> </ul> </li> </ul> </li> </ul> <p><br></p> <h2 id="forwarding-ports">Forwarding Ports</h2> <ul> <li>Port forwarding allows external devices to access to the internal server behind the router <ul> <li>Ex: 1.1.1.1:8181 -&gt; 192.168.5.13:80</li> </ul> </li> <li>Port range forward <ul> <li>Ex: 1.1.1.1:12001-12027 -&gt; 192.168.5.11</li> </ul> </li> <li> <strong>Port triggering</strong> will open an alternative assigned port when the initial port is contacted (e.g. FTP)</li> <li>SOHO DMZ <ul> <li>expose one computer to the entire internet</li> <li>anything that comes in unsolicited from the internet, send it to a particular computer</li> <li>able to see what kind of evil people are trying to do</li> </ul> </li> </ul> <p><br></p> <h2 id="static-routes">Static Routes</h2> <h3 id="routing-table-1">Routing table 1</h3> <table> <thead> <tr> <th style="text-align: left">Network Destination</th> <th style="text-align: left">Netmask</th> <th style="text-align: left">Gateway</th> <th>Interface</th> <th>Metric</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">0.0.0.0</td> <td style="text-align: left">0.0.0.0</td> <td style="text-align: left">192.168.4.1</td> <td>192.168.4.76</td> <td>25</td> </tr> <tr> <td style="text-align: left">127.0.0.0</td> <td style="text-align: left">255.0.0.0</td> <td style="text-align: left">On-link</td> <td>127.0.0.1</td> <td>331</td> </tr> <tr> <td style="text-align: left">127.0.0.1</td> <td style="text-align: left">255.255.255.255</td> <td style="text-align: left">On-link</td> <td>127.0.0.1</td> <td>331</td> </tr> <tr> <td style="text-align: left">127.255.255.255</td> <td style="text-align: left">255.255.255.255</td> <td style="text-align: left">On-link</td> <td>127.0.0.1</td> <td>331</td> </tr> <tr> <td style="text-align: left">192.168.4.0</td> <td style="text-align: left">255.255.255.0</td> <td style="text-align: left">On-link</td> <td>192.168.4.76</td> <td>281</td> </tr> <tr> <td style="text-align: left">192.168.4.76</td> <td style="text-align: left">255.255.255.255</td> <td style="text-align: left">On-link</td> <td>192.168.4.76</td> <td>281</td> </tr> <tr> <td style="text-align: left">192.168.4.255</td> <td style="text-align: left">255.255.255.255</td> <td style="text-align: left">On-link</td> <td>192.168.4.76</td> <td>281</td> </tr> <tr> <td style="text-align: left">224.0.0.0</td> <td style="text-align: left">240.0.0.0</td> <td style="text-align: left">On-link</td> <td>127.0.0.1</td> <td>331</td> </tr> <tr> <td style="text-align: left">224.0.0.0</td> <td style="text-align: left">240.0.0.0</td> <td style="text-align: left">On-link</td> <td>192.168.4.76</td> <td>281</td> </tr> </tbody> </table> <ol> <li>I don’t care where it’s going to. Send it out on my gateway(192.168.4.1) through my network card(192.168.4.76)</li> <li> <strong>Unless</strong> the destination address starts with 127, don’t go to the gateway and just send it to my loopback(127.0.0.1)</li> <li> <strong>Unless</strong> the destination starts with 192.168.4, do not send it out the gateway, just send it out my NIC(192.168.4.76)</li> <li>224 stands for multicast. Anything starts with 224 is a class D. It allows a computer to take on a second IP address that starts with a 224. For example, it is used to allow multi users to watch a video at the same time.</li> </ol> <p><br></p> <h3 id="routing-table-2">Routing table 2</h3> <table> <thead> <tr> <th style="text-align: left">Network Destination</th> <th style="text-align: left">Netmask</th> <th style="text-align: left">Gateway</th> <th>Interface</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">17.18.19.1</td> <td style="text-align: left">255.255.255.255</td> <td style="text-align: left">0.0.0.0</td> <td>WAN</td> </tr> <tr> <td style="text-align: left">192.168.4.0</td> <td style="text-align: left">255.255.255.0</td> <td style="text-align: left">0.0.0.0</td> <td>LAN &amp; WLAN</td> </tr> <tr> <td style="text-align: left">17.18.19.0</td> <td style="text-align: left">255.255.255.0</td> <td style="text-align: left">0.0.0.0</td> <td>WAN</td> </tr> <tr> <td style="text-align: left">169.254.0.0</td> <td style="text-align: left">255.255.0.0</td> <td style="text-align: left">0.0.0.0</td> <td>LAN &amp; WLAN</td> </tr> <tr> <td style="text-align: left">0.0.0.0</td> <td style="text-align: left">0.0.0.0</td> <td style="text-align: left">17.18.19.1</td> <td>WAN</td> </tr> </tbody> </table> <ol> <li>If the destination IP address is 17.18.19.1, don’t go out to the gateway, send it to the WAN.</li> <li>If the destination IP address starts with 192.168.4, send it up to that 192.168.4.x/24 network through the LAN connection</li> <li>Anything for 17.18.19.x, no gateway and send it out through the WAN</li> <li>skip for now</li> <li>This is a default route. Send everything over to the other system(17.18.19.1)</li> </ol> <p><br></p> <h2 id="dynamic-routing">Dynamic Routing</h2> <ul> <li>Dynamic routing protocols use metrics to determine routes</li> <li>The metric value is something that can be used to look at a lot of different issues</li> <li>The metric was based on the hop count - simply the number of routers it took to get to a particular network ID</li> <li>The metric can take in all kinds of considerations <ul> <li>MTU(Maximum Transmission Unit) - In a particular frame, how much data can you haul <ul> <li>Ethernet has a default MTU size of 1,500 bytes</li> <li>The internet isn’t made out of just pure Ethernet</li> </ul> </li> <li>Bandwidth(a 56k line vs a 10 gigabit line)</li> <li>Cost</li> <li>Latency - how long does it take this particular route</li> </ul> </li> <li>Two main dynamic routing protocols <ul> <li> <strong>Distance vector</strong> <ul> <li>A router send his routing table to neighboring routers. They will compare it to their own and then determine what are the best routes they can use</li> <li>One problem of the distance vector is lean heavily on the concept of hop count</li> <li>The other big issue is that they send all of this stuff at a given interval. If a neighboring router goes down we have to wait for the next interval</li> </ul> </li> <li> <strong>Link state</strong> <ul> <li>more modern, improvements over distance vector</li> <li>A link state router is going to send out a ping to make sure they are there</li> <li>If the individual routing table is updated, the router will let people know on the fly</li> </ul> </li> </ul> </li> <li>All dynamic routing protocols can be broken up into <strong>EGP(Exterior Gateway Protocols)</strong> or <strong>IGP(Interior Gateway Protocols)</strong> <ul> <li>Autonomous system is one organization that has control of their own particular routers</li> <li>Any time you want to communicate outside of an autonomous system you use an EGP</li> <li>Otherwise you’re using an IGP</li> <li>BGP(Border Gateway Protocol) is the only EGP through which a big Internet Service Provider talks to other ISPs.</li> <li>Each ISP is assigned an autonomous system number(ASN). When you send a data from your router to other routers, you are not even really using IP addresses. You use these AS numbers to send the data from one to the other. That’s unique to BGP <ul> <li>BGP is the EGP protocol used for inter-autonomous system routing</li> </ul> </li> </ul> </li> </ul> <p><br></p> <h2 id="riprouting-information-protocol">RIP(Routing Information Protocol)</h2> <ul> <li>RIP is an IGP, not used to connect autonomous systems</li> <li>RIP is a distance vector protocol that uses hop count to determine routes</li> <li>RIP1 used only classful networks(doesn’t understand CIDR based IP addresses)</li> <li>RIP’s maximum hop count is 15</li> </ul> <p><br></p> <h2 id="ospfopen-shortest-path-first">OSPF(Open Shortest Path First)</h2> <ul> <li>The number one interior gateway protocol</li> <li>OSPF is a link state protocol</li> <li>OSPF uses area IDs and converges very quickly</li> </ul> <p><br></p> <h2 id="bgpborder-gateway-protocol">BGP(Border Gateway Protocol)</h2> <ul> <li>BGP is the primary protocol for the Internet</li> <li>BGP breaks the entire Internet into just over 20,000 autonomous systems(AS)</li> <li>AS is a group of one or more router networks under the control of a single entity like a big ISP or a branch of the federal government</li> <li>An AS has direct or indirect control of all the routers, all the networks, all the subnets within their own AS</li> <li>Every AS on the Internet has a 32 bit autonomous system number(ASN)</li> <li>Since ASs have total control on their own network routes, they can route between the routers any way they want. And it’s usually done via OSPF.</li> <li>For the Internet, when ASs interconnect, they must use BGP</li> <li>BGP routes data between ASs <ul> <li>A router sending a chunk of data out to the Internet only needs to know where its own BGP router is located</li> <li>That BGP router at the edge of the autonomous system only needs to know the AS number of where that data is going</li> <li>In essence it greatly reduces the load on all BGP routers</li> </ul> </li> </ul> </article><div id="giscus_thread" style="max-width: 800px; margin: 0 auto;"> <script>let giscusTheme=localStorage.getItem("theme"),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"alshedivat/al-folio","data-repo-id":"MDEwOlJlcG9zaXRvcnk2MDAyNDM2NQ==","data-category":"Comments","data-category-id":"DIC_kwDOA5PmLc4CTBt6","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,a])=>giscusScript.setAttribute(t,a)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Senalyst . Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>